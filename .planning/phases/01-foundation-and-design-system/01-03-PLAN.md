---
phase: 01-foundation
plan: 03
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/components/layout/footer.tsx
  - src/components/layout/whatsapp-button.tsx
  - src/app/layout.tsx
  - src/app/sitemap.ts
autonomous: true

must_haves:
  truths:
    - "Footer displays contact info, quick links, business hours, and social links"
    - "Footer is responsive: 1 column mobile, 2 columns tablet, 4 columns desktop"
    - "WhatsApp button is visible in bottom-right corner on all pages"
    - "WhatsApp link opens chat with pre-filled message"
    - "Root layout includes Header, Footer, SkipLink, and WhatsApp button"
    - "Page source contains OpenGraph meta tags"
    - "Page source contains LocalBusiness JSON-LD structured data"
  artifacts:
    - path: "src/components/layout/footer.tsx"
      provides: "Site footer with contact, links, hours, social"
      exports: ["Footer"]
    - path: "src/components/layout/whatsapp-button.tsx"
      provides: "Floating WhatsApp chat button"
      exports: ["WhatsAppButton"]
    - path: "src/app/layout.tsx"
      provides: "Root layout composing all layout components with SEO metadata"
      contains: ["<Header", "<Footer", "<WhatsAppButton", "<SkipLink", "openGraph", "LocalBusiness"]
    - path: "src/app/sitemap.ts"
      provides: "Dynamic sitemap generation"
      exports: ["default"]
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/components/layout/header.tsx"
      via: "component import"
      pattern: "import.*Header.*from"
    - from: "src/app/layout.tsx"
      to: "src/components/layout/footer.tsx"
      via: "component import"
      pattern: "import.*Footer.*from"
    - from: "src/components/layout/footer.tsx"
      to: "src/lib/constants.ts"
      via: "CONTACT_INFO import"
      pattern: "import.*CONTACT_INFO.*from.*constants"
    - from: "src/components/layout/whatsapp-button.tsx"
      to: "src/lib/constants.ts"
      via: "CONTACT_INFO.whatsapp import"
      pattern: "CONTACT_INFO\\.whatsapp"
---

<objective>
Create the footer component, WhatsApp floating button, complete SEO setup, and wire all layout components into the root layout.

Purpose: Complete the site shell with footer (NAV-04), floating WhatsApp button (NAV-05), SEO optimization (FOUND-05), and integrate all layout components so every page has consistent navigation and contact options.

Output: Complete site layout with header, main content area, footer, WhatsApp button, and comprehensive SEO metadata visible on all pages.
</objective>

<execution_context>
@/home/codespace/.claude/get-shit-done/workflows/execute-plan.md
@/home/codespace/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-and-design-system/01-RESEARCH.md
@.planning/phases/01-foundation-and-design-system/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Footer component</name>
  <files>
    src/components/layout/footer.tsx
  </files>
  <action>
Create Footer as a Server Component with responsive grid layout:

1. Container structure:
   - footer element with dark background: `bg-neutral-900 text-neutral-100`
   - Generous padding: `py-12 lg:py-16`
   - Container div with responsive padding

2. Responsive grid (mobile-first):
   - `grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4`
   - 4 sections: Contact, Quick Links, Hours, Social

3. Contact section:
   - h3 heading: "Contact Us"
   - address element with class="not-italic" (removes default italic)
   - MapPin icon + full address (13 Nederburg Road, Kirstenhof, Cape Town)
   - Phone icon + tel: link to 083 564 1671
   - Mail icon + mailto: link to tendertouch.ct@gmail.com
   - Import CONTACT_INFO from constants for data

4. Quick Links section:
   - h3 heading: "Quick Links"
   - ul with links: Services, About Megan, Class Schedule, Contact, Book Online
   - Import NAV_LINKS from constants or hardcode (quick links may differ from main nav)
   - Hover state: `hover:text-primary-300`

5. Business Hours section:
   - h3 with Clock icon: "Business Hours"
   - dl (description list) with dt/dd pairs:
     - Monday - Friday: By appointment
     - Saturday - Sunday: Closed
   - Import BUSINESS_HOURS from constants

6. Social Links section:
   - h3 heading: "Follow Us"
   - Flex container with social icon buttons
   - Facebook link to TenderTouchCapeTown page
   - Instagram link (placeholder URL for now)
   - Each: circular bg-neutral-800, hover:bg-primary-600 transition
   - Import SOCIAL_LINKS from constants
   - aria-label on each link for accessibility

7. Copyright bar:
   - Separate div below grid: `mt-12 pt-8 border-t border-neutral-800`
   - Centered text with current year (use new Date().getFullYear())
   - Text: "Tender Touch Mother & Baby Clinic. All rights reserved."

Icons: Use MapPin, Phone, Mail, Clock, Facebook, Instagram from lucide-react.
  </action>
  <verify>
- Footer renders with dark background
- All 4 sections visible on desktop in row
- 2 columns on tablet, 1 column on mobile
- Links are clickable and have hover states
- Copyright shows current year
  </verify>
  <done>
Footer displays all required information (NAV-04) with responsive grid layout and accessible links.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create WhatsApp floating button</name>
  <files>
    src/components/layout/whatsapp-button.tsx
  </files>
  <action>
Create WhatsAppButton as a Server Component (it's just a styled link):

1. Link structure:
   - a element (not next/link since it's external)
   - href: WhatsApp API URL with pre-filled message
   - Format: `https://wa.me/${CONTACT_INFO.whatsapp}?text=${encodeURIComponent(message)}`
   - Import CONTACT_INFO from constants and use CONTACT_INFO.whatsapp for the number
   - Message: "Hi, I would like to enquire about your services at Tender Touch Clinic."
   - target="_blank" rel="noopener noreferrer"

2. Positioning:
   - Fixed bottom-right: `fixed bottom-6 right-6`
   - High z-index but below mobile nav: `z-40`

3. Styling:
   - Circular button: `w-14 h-14 rounded-full`
   - WhatsApp green background: `bg-whatsapp` (defined in design tokens)
   - White icon: `text-white`
   - Shadow for depth: `shadow-lg hover:shadow-xl transition-shadow`
   - Flex centering for icon: `flex items-center justify-center`

4. Icon:
   - Use MessageCircle from lucide-react (closest to WhatsApp icon)
   - Size: `w-7 h-7`
   - aria-hidden="true" (button has aria-label)

5. Accessibility:
   - aria-label="Chat with us on WhatsApp"
   - Focus visible styles matching brand

IMPORTANT: Use CONTACT_INFO.whatsapp from constants (defined in 01-01) for the phone number.
  </action>
  <verify>
- Button visible in bottom-right corner
- Green circular button with message icon
- Click opens WhatsApp (or wa.me in browser) with pre-filled message
- Focus ring visible when tabbed to
- Verify href uses CONTACT_INFO.whatsapp value
  </verify>
  <done>
WhatsApp floating button (NAV-05) is positioned correctly, opens WhatsApp with pre-filled message using CONTACT_INFO.whatsapp, and is keyboard accessible.
  </done>
</task>

<task type="auto">
  <name>Task 3: Wire layout components and complete SEO setup</name>
  <files>
    src/app/layout.tsx
    src/app/sitemap.ts
  </files>
  <action>
Update the root layout to compose all layout components and add comprehensive SEO (FOUND-05):

1. Imports:
   - Import SkipLink from @/components/ui/skip-link
   - Import Header from @/components/layout/header
   - Import Footer from @/components/layout/footer
   - Import WhatsAppButton from @/components/layout/whatsapp-button
   - Import Inter and Playfair_Display from next/font/google
   - Import SITE_CONFIG, CONTACT_INFO from constants

2. Font configuration:
   - Inter: variable font with --font-sans CSS variable, subsets: ['latin']
   - Playfair Display: variable font with --font-display CSS variable, subsets: ['latin']
   - Apply both to html className

3. Comprehensive Metadata (FOUND-05 - SEO):
   Use Next.js Metadata API (exported const metadata) with:

   a. Basic metadata:
      - title: object with default and template: "%s | Tender Touch Clinic"
      - description: "Tender Touch Mother & Baby Clinic - Nurturing care for mothers and babies in Cape Town. Antenatal classes, baby massage, postnatal support, and more."

   b. OpenGraph metadata:
      - openGraph object with:
        - title: "Tender Touch Mother & Baby Clinic"
        - description: (same as above)
        - url: SITE_CONFIG.url
        - siteName: "Tender Touch Clinic"
        - locale: "en_ZA"
        - type: "website"
        - images: [{ url: "/images/og-image.jpg", width: 1200, height: 630, alt: "Tender Touch Clinic" }]

   c. Twitter card:
      - twitter object with:
        - card: "summary_large_image"
        - title: "Tender Touch Mother & Baby Clinic"
        - description: (same as above)
        - images: ["/images/og-image.jpg"]

   d. Robots:
      - robots: { index: true, follow: true }

   e. Other meta:
      - metadataBase: new URL(SITE_CONFIG.url)
      - alternates: { canonical: "/" }

4. LocalBusiness JSON-LD Structured Data:
   Add a script tag in the body with type="application/ld+json" containing:
   ```json
   {
     "@context": "https://schema.org",
     "@type": "LocalBusiness",
     "name": "Tender Touch Mother & Baby Clinic",
     "description": "Nurturing care for mothers and babies in Cape Town",
     "url": SITE_CONFIG.url,
     "telephone": CONTACT_INFO.phone,
     "email": CONTACT_INFO.email,
     "address": {
       "@type": "PostalAddress",
       "streetAddress": "13 Nederburg Road",
       "addressLocality": "Kirstenhof",
       "addressRegion": "Western Cape",
       "postalCode": "7945",
       "addressCountry": "ZA"
     },
     "geo": {
       "@type": "GeoCoordinates",
       "latitude": -34.0711,
       "longitude": 18.4561
     },
     "openingHours": "Mo-Fr 09:00-17:00",
     "priceRange": "$$"
   }
   ```
   Use dangerouslySetInnerHTML to inject the JSON-LD script.

5. HTML structure:
   ```tsx
   <html lang="en" className={`${inter.variable} ${playfair.variable}`}>
     <body className="min-h-screen flex flex-col font-sans antialiased">
       <script
         type="application/ld+json"
         dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
       />
       <SkipLink />
       <Header />
       <main id="main-content" tabIndex={-1} className="flex-1">
         {children}
       </main>
       <Footer />
       <WhatsAppButton />
     </body>
   </html>
   ```

6. Create `src/app/sitemap.ts` for dynamic sitemap generation (FOUND-05):
   ```typescript
   import { MetadataRoute } from 'next'

   export default function sitemap(): MetadataRoute.Sitemap {
     const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://tendertouchclinic.co.za'

     return [
       {
         url: baseUrl,
         lastModified: new Date(),
         changeFrequency: 'weekly',
         priority: 1,
       },
       {
         url: `${baseUrl}/services`,
         lastModified: new Date(),
         changeFrequency: 'weekly',
         priority: 0.8,
       },
       {
         url: `${baseUrl}/about`,
         lastModified: new Date(),
         changeFrequency: 'monthly',
         priority: 0.7,
       },
       {
         url: `${baseUrl}/schedule`,
         lastModified: new Date(),
         changeFrequency: 'weekly',
         priority: 0.8,
       },
       {
         url: `${baseUrl}/contact`,
         lastModified: new Date(),
         changeFrequency: 'monthly',
         priority: 0.7,
       },
     ]
   }
   ```

Avoid: Don't add providers or other wrappers yet - keep layout simple.
  </action>
  <verify>
- Visit localhost:3000:
  - Header visible at top with navigation
  - Main content area in middle
  - Footer visible at bottom with dark background
  - WhatsApp button floating bottom-right
- View page source and verify:
  - OpenGraph meta tags present (og:title, og:description, og:image)
  - Twitter card meta tags present
  - JSON-LD script with LocalBusiness schema present
- Visit localhost:3000/sitemap.xml and verify sitemap renders
- Tab from top: Skip link appears, then header nav, then content, then footer links
- Resize: All components respond correctly to viewport changes
  </verify>
  <done>
Root layout composes all components correctly. Site has complete header, main, footer, and WhatsApp button. Skip link enables keyboard bypass. Fonts loaded. SEO metadata complete with OpenGraph, Twitter cards, LocalBusiness JSON-LD, and sitemap.xml (FOUND-05).
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Full page renders with:
   - Header at top (from Plan 02)
   - Main content area (placeholder page)
   - Footer at bottom with 4 sections
   - WhatsApp button floating bottom-right
2. Responsive testing:
   - Mobile: Single column footer, hamburger in header
   - Tablet: 2-column footer
   - Desktop: 4-column footer, full header nav
3. Accessibility:
   - Skip link works (Tab, Enter, focus moves to main)
   - All footer links keyboard accessible
   - WhatsApp button focusable with visible ring
4. Visual:
   - Brand colors render (teal, warm grays)
   - Typography uses Inter for body
   - No layout shifts or broken styles
5. SEO verification (FOUND-05):
   - `curl -s localhost:3000 | grep -i "og:title"` returns OpenGraph title
   - `curl -s localhost:3000 | grep -i "LocalBusiness"` returns JSON-LD
   - `curl -s localhost:3000/sitemap.xml` returns valid XML sitemap
6. Performance baseline (FOUND-03):
   - Run Lighthouse in Chrome DevTools with mobile throttling (Moto G Power)
   - Verify LCP metric is captured (target: < 2.5s for placeholder content)
   - Note: Full LCP optimization depends on real images in Phase 2

Note on FOUND-07 (Deployment): Vercel deployment is handled in Phase 4 (Integrations & Launch) alongside final performance validation. This phase establishes the foundation; Phase 4 validates production deployment.
</verification>

<success_criteria>
- Footer with contact info, quick links, hours, and social (NAV-04)
- Floating WhatsApp button on all pages using CONTACT_INFO.whatsapp (NAV-05)
- Root layout integrates Header, Footer, SkipLink, WhatsApp
- Responsive design works at all breakpoints (FOUND-01, FOUND-02)
- Skip link bypasses to main content (FOUND-04 - WCAG 2.4.1)
- All interactive elements keyboard accessible
- OpenGraph meta tags present for social sharing (FOUND-05)
- LocalBusiness JSON-LD structured data present (FOUND-05)
- sitemap.xml generated and accessible (FOUND-05)
- LCP baseline captured with Lighthouse (FOUND-03 baseline)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-and-design-system/01-03-SUMMARY.md`
</output>
