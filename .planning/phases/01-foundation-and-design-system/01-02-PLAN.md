---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/components/layout/header.tsx
  - src/components/layout/mobile-nav.tsx
  - src/components/layout/services-dropdown.tsx
autonomous: true

must_haves:
  truths:
    - "Header displays logo, navigation links, and Book Now CTA on desktop"
    - "Hamburger menu appears on mobile and opens slide-out navigation"
    - "Services dropdown expands on desktop showing all 6 services"
    - "Escape key closes mobile menu and dropdown"
    - "All navigation is keyboard accessible with visible focus states"
  artifacts:
    - path: "src/components/layout/header.tsx"
      provides: "Main site header with navigation"
      exports: ["Header"]
    - path: "src/components/layout/mobile-nav.tsx"
      provides: "Mobile hamburger menu with slide-out nav"
      exports: ["MobileNav"]
    - path: "src/components/layout/services-dropdown.tsx"
      provides: "Desktop services dropdown menu"
      exports: ["ServicesDropdown"]
  key_links:
    - from: "src/components/layout/header.tsx"
      to: "src/components/layout/mobile-nav.tsx"
      via: "component composition"
      pattern: "<MobileNav"
    - from: "src/components/layout/header.tsx"
      to: "src/components/layout/services-dropdown.tsx"
      via: "component composition"
      pattern: "<ServicesDropdown"
    - from: "src/components/layout/mobile-nav.tsx"
      to: "src/lib/constants.ts"
      via: "NAV_LINKS import"
      pattern: "import.*NAV_LINKS.*from.*constants"
---

<objective>
Create the header navigation system with responsive mobile menu and accessible services dropdown.

Purpose: Implement the primary navigation (NAV-01, NAV-02, NAV-03) that visitors use to explore the site. The header must work seamlessly across all devices with proper keyboard accessibility and ARIA attributes.

Output: Fully functional header component with desktop navigation, services dropdown, and mobile hamburger menu.
</objective>

<execution_context>
@/home/codespace/.claude/get-shit-done/workflows/execute-plan.md
@/home/codespace/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-and-design-system/01-RESEARCH.md
@.planning/phases/01-foundation-and-design-system/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Header component with desktop navigation</name>
  <files>
    src/components/layout/header.tsx
  </files>
  <action>
Create the main Header component as a Server Component that renders:

1. Structure:
   - Sticky header with `sticky top-0 z-50`
   - Semi-transparent background: `bg-white/95 backdrop-blur supports-backdrop-blur:bg-white/60`
   - Container with flex layout for logo, nav, CTA

2. Logo section:
   - Link wrapping image, links to "/"
   - Use next/image with placeholder dimensions (150x50)
   - aria-label="Tender Touch Clinic - Home"
   - Use placeholder image path: /images/logo.png (file doesn't exist yet, that's fine)

3. Desktop navigation (hidden on mobile: `hidden md:flex`):
   - Use semantic nav element with role="navigation"
   - ul with role="menubar" containing nav items
   - Links: Home, Services (dropdown), About, Schedule, Contact
   - Import NAV_LINKS from constants for link data
   - Services item renders ServicesDropdown component

4. Desktop CTA:
   - Button component with "Book Now" text
   - Links to /book (will be Bookem integration in Phase 4)
   - Hidden on mobile: `hidden md:inline-flex`

5. Mobile navigation:
   - Render MobileNav component
   - Only visible on mobile: `md:hidden`

Import Button from ui/button, MobileNav and ServicesDropdown from layout folder.
Do NOT add 'use client' - Header is a Server Component that composes Client Components.
  </action>
  <verify>
- Desktop (>768px): Shows logo, nav links, Services dropdown trigger, Book Now button
- Mobile (<768px): Shows only logo and hamburger icon
- No hydration errors in console
  </verify>
  <done>
Header renders correctly at all viewport sizes with proper responsive visibility of desktop nav vs mobile hamburger.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create MobileNav component with slide-out menu</name>
  <files>
    src/components/layout/mobile-nav.tsx
  </files>
  <action>
Create MobileNav as a Client Component ('use client') for hamburger menu:

1. State management:
   - useState for isOpen boolean
   - Toggle on button click

2. Hamburger button:
   - Uses Menu icon from lucide-react when closed, X when open
   - aria-expanded={isOpen}
   - aria-controls="mobile-menu"
   - aria-label={isOpen ? 'Close menu' : 'Open menu'}
   - Visible only on mobile (parent handles md:hidden)

3. Slide-out menu panel:
   - Fixed position covering viewport below header: `fixed inset-0 top-[60px]`
   - White background with high z-index
   - role="dialog" and aria-modal="true"
   - aria-label="Navigation menu"

4. Navigation list:
   - Import NAV_LINKS and SERVICES from constants
   - Render main nav links as large tap targets (py-3 minimum)
   - Services section: expandable list showing all 6 services (use details/summary or separate state)
   - Each link calls setIsOpen(false) on click to close menu

5. Accessibility features:
   - useEffect to handle Escape key: close menu and return focus to button
   - useEffect to prevent body scroll when open: document.body.style.overflow = 'hidden'
   - Cleanup effects properly

6. Close on route change:
   - Use usePathname() from next/navigation
   - useEffect watching pathname to close menu when route changes

Avoid: Don't use portal - fixed positioning is sufficient. Don't lazy load this component.
  </action>
  <verify>
- Click hamburger: menu opens with smooth appearance
- Click any link: menu closes and navigates
- Press Escape: menu closes, focus returns to hamburger button
- Body doesn't scroll when menu is open
- Navigate via link: menu closes automatically
  </verify>
  <done>
Mobile menu opens/closes correctly, handles keyboard navigation, prevents scroll when open, and closes on navigation.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create ServicesDropdown component</name>
  <files>
    src/components/layout/services-dropdown.tsx
  </files>
  <action>
Create ServicesDropdown as a Client Component for desktop navigation:

1. State and refs:
   - useState for isOpen
   - useRef for menu container (click outside detection)
   - useRef for trigger button (focus return)

2. Trigger button:
   - "Services" text with ChevronDown icon from lucide-react
   - Icon rotates 180deg when open (transition-transform)
   - aria-expanded={isOpen}
   - aria-haspopup="menu"
   - aria-controls="services-menu"
   - role="menuitem" (part of parent menubar)

3. Dropdown panel (only when isOpen):
   - Absolute positioned below trigger: `absolute top-full left-0 mt-2`
   - White background with shadow: `bg-white shadow-lg rounded-lg border border-neutral-200`
   - Width: w-56
   - ul with role="menu" and aria-label="Services submenu"
   - id="services-menu" (matches aria-controls)

4. Menu items:
   - Import SERVICES from constants
   - Map over services array
   - Each item: li with role="none", Link with role="menuitem"
   - Hover/focus states: `hover:bg-primary-50 focus:bg-primary-50`
   - onClick closes dropdown

5. Keyboard navigation:
   - ArrowDown on closed button opens dropdown
   - Escape closes and returns focus to button
   - Click outside closes dropdown (useEffect with mousedown listener)

6. Close handlers:
   - useEffect for Escape key listener (only when open)
   - useEffect for click outside (only when open)
   - Cleanup both listeners properly

Follow the exact pattern from 01-RESEARCH.md ServicesDropdown example.
  </action>
  <verify>
- Hover/click Services: dropdown appears with 6 service links
- Click service link: navigates and closes dropdown
- Press Escape: closes dropdown, focus on trigger
- Click outside: closes dropdown
- ArrowDown on closed trigger: opens dropdown
- Tab through: focus moves through menu items
  </verify>
  <done>
Services dropdown is fully accessible with keyboard navigation, proper ARIA attributes, and escape/outside-click handling.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Desktop viewport (>768px):
   - Header shows logo, Home, Services dropdown, About, Schedule, Contact, Book Now button
   - Services dropdown opens on click, shows all 6 services
   - Keyboard navigation works through all elements
2. Mobile viewport (<768px):
   - Only logo and hamburger visible
   - Hamburger opens full-screen menu
   - Services section shows all services
   - Menu closes on navigation or Escape
3. Accessibility checks:
   - Tab through entire header navigation
   - Verify focus visible on all interactive elements
   - Escape closes open menus
   - Screen reader announces menu states (test with browser accessibility tools)
</verification>

<success_criteria>
- Header with logo, navigation, and CTA renders on desktop (NAV-01)
- Services dropdown lists all 6 services with links (NAV-02)
- Mobile hamburger menu with slide-out navigation works (NAV-03)
- Keyboard navigation complete with Escape to close
- ARIA attributes correctly applied for screen readers
- No hydration errors or React warnings
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-and-design-system/01-02-SUMMARY.md`
</output>
