---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - pnpm-lock.yaml
  - tsconfig.json
  - next.config.ts
  - eslint.config.mjs
  - src/app/globals.css
  - src/app/layout.tsx
  - src/app/page.tsx
  - src/lib/utils.ts
  - src/lib/constants.ts
  - src/components/ui/button.tsx
  - src/components/ui/container.tsx
  - src/components/ui/skip-link.tsx
  - src/components/ui/image.tsx
  - .env.example
  - public/.gitkeep
autonomous: true

must_haves:
  truths:
    - "Browser shows teal brand color when viewing element with bg-primary-500 class"
    - "Focus rings are visible when tabbing through interactive elements"
    - "Skip link appears at top of page when user presses Tab key"
    - "Button component renders with distinct primary and secondary visual styles"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Design tokens via @theme directive"
      contains: "@theme"
    - path: "src/components/ui/button.tsx"
      provides: "Reusable button with variants"
      exports: ["Button"]
    - path: "src/components/ui/image.tsx"
      provides: "Optimized image wrapper component"
      exports: ["OptimizedImage"]
    - path: "src/lib/constants.ts"
      provides: "Site metadata, contact info including WhatsApp number"
      exports: ["SITE_CONFIG", "CONTACT_INFO"]
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "CSS import"
      pattern: "import.*globals.css"
    - from: "src/components/ui/button.tsx"
      to: "src/lib/utils.ts"
      via: "cn utility import"
      pattern: "import.*cn.*from.*utils"
    - from: "src/components/ui/image.tsx"
      to: "next/image"
      via: "Next.js Image component"
      pattern: "import Image from.*next/image"
---

<objective>
Set up Next.js 16 project with Tailwind CSS v4 design tokens, TypeScript configuration, and foundational UI primitives.

Purpose: Establish the technical foundation that all subsequent components and pages will build upon. This plan creates the scaffolding, design system tokens (brand colors, typography, spacing), and core UI primitives (Button, Container, SkipLink, OptimizedImage) that enable rapid development.

Output: Working Next.js development environment with brand-consistent design tokens and reusable UI components.
</objective>

<execution_context>
@/home/codespace/.claude/get-shit-done/workflows/execute-plan.md
@/home/codespace/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-and-design-system/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Next.js project with tooling</name>
  <files>
    package.json
    pnpm-lock.yaml
    tsconfig.json
    next.config.ts
    eslint.config.mjs
    .env.example
    public/.gitkeep
  </files>
  <action>
Initialize Next.js 16 project in the repository root using pnpm:

1. Run `pnpm create next-app@latest . --yes` to scaffold with defaults (TypeScript, Tailwind, ESLint, App Router, Turbopack, src directory)

2. Install additional dependencies:
   - `pnpm add lucide-react` (icons)
   - `pnpm add clsx tailwind-merge` (class utilities)
   - `pnpm add -D eslint-plugin-jsx-a11y` (a11y linting)

3. Create `.env.example` with placeholder for future env vars:
   ```
   # Environment Variables
   # Copy this file to .env.local and fill in values

   # Site URL (for metadata)
   NEXT_PUBLIC_SITE_URL=http://localhost:3000
   ```

4. Create `public/.gitkeep` to preserve the public directory

5. Update `eslint.config.mjs` to include jsx-a11y plugin with recommended rules

Avoid: Do NOT use npm (use pnpm). Do NOT install @axe-core/react yet (adds dev complexity, can add later if needed).
  </action>
  <verify>
Run these commands and confirm success:
- `pnpm run dev` starts server (visit http://localhost:3000)
- `pnpm run lint` passes without errors
- `pnpm run build` completes successfully
  </verify>
  <done>
Next.js development server runs, TypeScript compiles, ESLint passes with a11y rules enabled.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure design tokens and global styles</name>
  <files>
    src/app/globals.css
    src/lib/utils.ts
    src/lib/constants.ts
  </files>
  <action>
Configure Tailwind CSS v4 design tokens and create utility functions:

1. Replace `src/app/globals.css` with Tailwind v4 CSS-first configuration:
   - Use `@import "tailwindcss";` (not @tailwind directives)
   - Add `@theme` block with brand colors:
     - primary (teal): oklch scale from 50-900, with 500 as main brand color
     - accent (warm peach): subtle complement
     - neutral (warm grays): for text and backgrounds
     - whatsapp green: for WhatsApp button (--color-whatsapp: oklch(0.55 0.15 145))
   - Add typography tokens: --font-sans (Inter), --font-display (Playfair Display)
   - Add spacing tokens: --spacing-section, --spacing-section-lg
   - Add border-radius tokens: --radius-sm through --radius-full
   - Add focus-visible styles in @layer base for accessibility (FOUND-04)
   - Add skip-link styles for keyboard navigation

2. Create `src/lib/utils.ts`:
   - Export `cn()` function using clsx + tailwind-merge for class merging
   - This pattern handles conditional classes and Tailwind conflicts

3. Create `src/lib/constants.ts` with site configuration:
   - SITE_CONFIG: name, description, url
   - CONTACT_INFO: phone, email, address, whatsapp (string with number "27835641671" for WhatsApp API URL)
   - BUSINESS_HOURS: days and times
   - SOCIAL_LINKS: facebook, instagram URLs
   - NAV_LINKS: main navigation items
   - SERVICES: list of 6 services with names and hrefs

   IMPORTANT: CONTACT_INFO must include a `whatsapp` field with the full number including country code (e.g., "27835641671") for use in WhatsApp button href construction.

Use oklch color space for better color perception (research recommendation). Keep hue at ~175 for teal.
  </action>
  <verify>
- Create a test page that uses `bg-primary-500` and confirm teal color renders
- Verify `cn('px-4', condition && 'py-2')` correctly merges classes
- Import SITE_CONFIG and CONTACT_INFO, confirm all fields accessible including CONTACT_INFO.whatsapp
  </verify>
  <done>
Design tokens render in browser with correct brand colors. Utility functions work for class merging. Site constants are typed and exported, including WhatsApp number.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create UI primitive components</name>
  <files>
    src/components/ui/button.tsx
    src/components/ui/container.tsx
    src/components/ui/skip-link.tsx
    src/components/ui/image.tsx
    src/app/layout.tsx
    src/app/page.tsx
  </files>
  <action>
Create foundational UI components that other components will use:

1. Create `src/components/ui/button.tsx`:
   - Accept props: variant (primary, secondary, outline, ghost), size (sm, md, lg), asChild
   - Support both button element and Link (via asChild pattern or href prop)
   - Include focus-visible styles for accessibility
   - Use cn() for class merging
   - TypeScript: extend ButtonHTMLAttributes, add custom props

2. Create `src/components/ui/container.tsx`:
   - Max-width responsive wrapper (max-w-7xl)
   - Mobile-first padding: px-4 -> sm:px-6 -> lg:px-8
   - Accept className prop for overrides
   - Simple Server Component (no 'use client')

3. Create `src/components/ui/skip-link.tsx`:
   - Hidden by default (sr-only), visible on focus
   - Links to #main-content
   - Styled with primary brand color when focused
   - Critical for WCAG 2.4.1 Bypass Blocks

4. Create `src/components/ui/image.tsx` (FOUND-06 - Image optimization):
   - Wrapper component around Next.js Image for consistent usage
   - Named export: OptimizedImage
   - Props: src, alt (required), width, height, priority, className, fill, sizes
   - Default sizes attribute for responsive images: "(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
   - Automatically sets loading="lazy" unless priority=true
   - Use next/image under the hood with format optimization (already handled by Next.js)
   - TypeScript: extend ImageProps from next/image, make alt required

5. Update `src/app/layout.tsx`:
   - Import and render SkipLink as first child of body
   - Add lang="en" to html element
   - Set up basic metadata using Next.js Metadata API
   - Add main element with id="main-content" and tabIndex={-1}
   - Import globals.css

6. Update `src/app/page.tsx`:
   - Create simple placeholder with Container and Button to verify components work
   - Show heading "Tender Touch Clinic" and "Coming Soon" message
   - Include Button examples with different variants

Components should be Server Components by default. Only add 'use client' if hooks are needed (Button may need it if using asChild pattern with Radix).
  </action>
  <verify>
- Visit http://localhost:3000 and see placeholder page with styled buttons
- Tab through page - skip link appears when focused and navigates to main content
- Inspect Button and confirm Tailwind classes render correctly
- Check no TypeScript errors in components
- Verify OptimizedImage component exports correctly (import test)
  </verify>
  <done>
Button renders with primary/secondary variants. Container provides responsive max-width. Skip link is keyboard-accessible and navigates to main content. OptimizedImage wrapper provides consistent image optimization pattern for FOUND-06.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `pnpm run dev` - server starts without errors
2. `pnpm run build` - production build succeeds
3. `pnpm run lint` - no linting errors
4. Browser at localhost:3000 shows placeholder with brand colors
5. Tab navigation shows skip link, buttons are focusable with visible focus rings
6. Inspect element shows Tailwind classes compiled correctly
7. CONTACT_INFO.whatsapp is defined and accessible
</verification>

<success_criteria>
- Next.js 16 project initialized with TypeScript, Tailwind v4, ESLint
- Design tokens configured via @theme with teal/green brand palette
- UI primitives (Button, Container, SkipLink, OptimizedImage) created and working
- Skip link provides keyboard bypass (WCAG 2.4.1)
- Focus styles visible on all interactive elements (WCAG 2.4.7)
- OptimizedImage wrapper provides consistent image optimization (FOUND-06)
- CONTACT_INFO includes whatsapp field for WhatsApp button
- No TypeScript or ESLint errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-and-design-system/01-01-SUMMARY.md`
</output>
